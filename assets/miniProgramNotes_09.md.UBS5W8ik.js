import{_ as s,o as a,c as n,R as i}from"./chunks/framework.3AywRrgj.js";const e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABlCAIAAACX9LdgAAADBElEQVR4Xu2YwUobQRzGfQmfow/QJ+gDCII5CR7qJSdDkAVJC208FUrwlksED57EQuslpekhVHpoCyEgbEoQrRQfop3Z7cbJ9+1uMs1/NxH+P76DzE74fkxmZzeu/XkkrOHAqqKi0qioNCoqjYpKo6LSqKg0KiqNh2h4/6u4YBmhop7BMkJFPYNlhIp6BssIFfUMlhEq6hksI1TUM1hGiIreXX8fj5Jc/xu8nYyMhnf0kSRYRgiJht0Xzcp6bdPJ7uEPc+nbm9fO4P6rzk/6bHmiN73gYGevOxj+pkuThBd7B5Un+5tBny5FwTJCQPTyvP70uM/jD4kst98NztpLFTX11Y/JjuQklvHMJYtm1YfjbpBYRjMrwReaEwXLiCJFpy1tbjMXHsuIwkTZ8n4lRd8f76Blxsw4WEYUJZqanJlYRqhoWnJmYhlRpuio8zZzJpYRJYreXFTrjc6YxqNgGSEj+vzDwHlvSsnn/km1Udk6x3OgVNHh1872y91n+Wk2Dj9lWobliIoEywgV9QyWEQWIXp1uNE8vzR/91nq7h1czgmWEuOjgqDk5rdy/ZwTLCGFR87Y/tYpmUWutM5rGwTJCVNRoxV+6E6tOgxwsI8RErVDG4kWX6kdXOO4GywghUXMD1VpB2/257MSsqJ2Qt1+xjBASdQM3e9p+4GAZIS9qvugN95m+qqLmSJrejvOdplhGCIvyPY4HVkawjJAUTbvx7Zk/tRMygmWElKgVclauFzzc9elnFgTLCCnRRYNlhIp6BsuIYkTtc2jGMxOCZYSQaPSExCcnJk8dywgh0YWDZYSkaHSO8kLa5LyOxMEyQlg09Wyf5z8UWEYIi/JaruKKLhIsI+REc2/81C3hBssIOdGURC8AuafSJFhGFCZqf3/OpRgHywghUauFXzcn55bCMkJIlNNvzdyXbrCMEBeN9+WM9eNgGSEu+p/BMkJFPYNlhIp6BssIFfUMlhEq6hksI1TUM1hGqKhnsIxQUc9gGeEhulxUVBoVlUZFpVFRaR6N6F/4qyGp9oTCbgAAAABJRU5ErkJggg==",u=JSON.parse('{"title":"实现分享功能","description":"","frontmatter":{},"headers":[],"relativePath":"miniProgramNotes/09.md","filePath":"miniProgramNotes/09.md","lastUpdated":1703836988000}'),p={name:"miniProgramNotes/09.md"},l=i(`<h1 id="实现分享功能" tabindex="-1">实现分享功能 <a class="header-anchor" href="#实现分享功能" aria-label="Permalink to &quot;实现分享功能&quot;">​</a></h1><p>小程序里的<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share.html#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%BC%95" target="_blank" rel="noreferrer">分享功能</a>，有俩种：</p><ul><li>点击右上角三点分享</li><li>页面内分享</li></ul><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onshareappmessageobject-object" target="_blank" rel="noreferrer">onShareAppMessage</a></p><p>监听用户点击页面内转发按钮（button 组件 open-type=&quot;share&quot;）或右上角菜单“转发”按钮的行为，并自定义转发内容。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onShareAppMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;自定义转发标题&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;自定义转发标题&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/page/user?id=123&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      promise </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="自定义组件内分享" tabindex="-1">自定义组件内分享 <a class="header-anchor" href="#自定义组件内分享" aria-label="Permalink to &quot;自定义组件内分享&quot;">​</a></h2><p>微信小程序里，要想在页面实现自定义的组件分享，必须用button组件，但button组件样式难看，想自定义样式，有以下集中方式：</p><ul><li>直接修改button样式</li></ul><p>难度大，而且效果也不好看</p><ul><li>隐藏button，在上面悬浮一层样式</li></ul><p>这种方式项目里常用，点击还是button组件</p><ul><li>使用UI组件库</li></ul><p>如果是微信小程序原生开发，推荐使用lin-ui组件库里的<a href="https://doc.mini.talelin.com/component/basic/button.html#%E6%8C%89%E9%92%AE%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E8%83%BD%E5%8A%9B" target="_blank" rel="noreferrer">button组件</a></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;l-button special open-type=&quot;share&quot;&gt;</span></span>
<span class="line"><span>    &lt;view class=&quot;inner&quot;&gt;</span></span>
<span class="line"><span>        &lt;l-icon color=&quot;#157658&quot; name=&quot;share&quot; size=&quot;24&quot;&gt;&lt;/l-icon&gt;</span></span>
<span class="line"><span>        &lt;text&gt;分&lt;/text&gt;</span></span>
<span class="line"><span>        &lt;text&gt;享&lt;/text&gt;</span></span>
<span class="line"><span>    &lt;/view&gt;</span></span>
<span class="line"><span>&lt;/l-button&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>效果如下：</p><p><img src="`+e+'" alt="Image text"></p><div class="tip custom-block"><p class="custom-block-title">备注</p><p>一、要设置special属性，这样就可以使用插槽</p><p>二、使用插槽自定义样式</p></div><div class="tip custom-block"><p class="custom-block-title">备注</p><p>在页面里实现分享和点击右上角三点分享，都是触发onShareAppMessage方法的，在这个方法里可以自定义分享的标题、转发路径、图片</p></div>',19),t=[l];function r(h,k,o,E,c,g){return a(),n("div",null,t)}const b=s(p,[["render",r]]);export{u as __pageData,b as default};

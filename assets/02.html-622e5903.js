import{_ as n}from"./02-9eb162de.js";import{_ as s,p as a,q as t,a1 as p}from"./framework-b7c41258.js";const e="/zhaobao1830-notes/assets/01-3479393c.png",o={},c=p(`<h1 id="查看和操作源" tabindex="-1"><a class="header-anchor" href="#查看和操作源" aria-hidden="true">#</a> 查看和操作源</h1><h2 id="使用npm" tabindex="-1"><a class="header-anchor" href="#使用npm" aria-hidden="true">#</a> 使用npm</h2><p>查看当前源：</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>npm get registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置淘宝镜像源：</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>npm config set registry http://registry.npm.taobao.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置官方源：</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>npm config set registry http://www.npmjs.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="使用nrm" tabindex="-1"><a class="header-anchor" href="#使用nrm" aria-hidden="true">#</a> 使用nrm</h2><p>通过npm安装nrm</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>npm i -g nrm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看可以使用的源列表</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>nrm ls
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+e+`" alt="Image text"></p><p><strong>前面的*表示当前正在使用的源</strong></p><div class="custom-container tip"><p class="custom-container-title">备注</p><p><em><em>v1.2.5版本会出现前面没有</em>，可以这样修改：</em>*</p><p>在nrm安装目录下找到cli.js（C:\\Users\\Administrator\\AppData\\Roaming\\nvm\\v16.17.0\\node_modules\\nrm）</p><p>修改代码，把&amp;&amp;修改为||</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 源代码</span>
<span class="token function">config</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;                        &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> newR <span class="token operator">=</span> npm<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">FIELD_REGISTRY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> customRegistries <span class="token operator">=</span> <span class="token function">getCustomRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">delete</span> customRegistries<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">FIELD_IS_CURRENT</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> registries <span class="token operator">||</span> customRegistries<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>registry <span class="token operator">===</span> registry<span class="token punctuation">.</span>registry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    registry<span class="token punctuation">[</span><span class="token constant">FIELD_IS_CURRENT</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    customRegistries<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> registry<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">setCustomRegistry</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">printMsg</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;   Registry has been set to: &#39;</span> <span class="token operator">+</span> newR<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 修改后</span>
<span class="token function">config</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;                        &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> newR <span class="token operator">=</span> npm<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">FIELD_REGISTRY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> customRegistries <span class="token operator">=</span> <span class="token function">getCustomRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">delete</span> customRegistries<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">FIELD_IS_CURRENT</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> registries <span class="token operator">||</span> customRegistries<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>registry <span class="token operator">===</span> registry<span class="token punctuation">.</span>registry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    registry<span class="token punctuation">[</span><span class="token constant">FIELD_IS_CURRENT</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    customRegistries<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> registry<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">setCustomRegistry</span><span class="token punctuation">(</span>customRegistries<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">printMsg</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;   Registry has been set to: &#39;</span> <span class="token operator">+</span> newR<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v1.2.6版本如果不显示*，可以执行下nrm use taobao(或者其他源都可以)，这样就会正常显示</p></div><p>切换源</p><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>nrm use xx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+n+'" alt="Image text"></p>',19),i=[c];function u(l,r){return a(),t("div",null,i)}const m=s(o,[["render",u],["__file","02.html.vue"]]);export{m as default};

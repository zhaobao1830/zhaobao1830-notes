import{_ as s,o as a,c as i,R as e}from"./chunks/framework.1nBpG9uI.js";const u=JSON.parse('{"title":"element-ui tree组件笔记集","description":"","frontmatter":{},"headers":[],"relativePath":"vueNotes/27.md","filePath":"vueNotes/27.md","lastUpdated":1709084011000}'),n={name:"vueNotes/27.md"},l=e(`<h1 id="element-ui-tree组件笔记集" tabindex="-1">element-ui tree组件笔记集 <a class="header-anchor" href="#element-ui-tree组件笔记集" aria-label="Permalink to &quot;element-ui tree组件笔记集&quot;">​</a></h1><h2 id="实现单选" tabindex="-1">实现单选 <a class="header-anchor" href="#实现单选" aria-label="Permalink to &quot;实现单选&quot;">​</a></h2><p>文档地址：<a href="https://element-plus.org/zh-CN/component/tree.html" target="_blank" rel="noreferrer">https://element-plus.org/zh-CN/component/tree.html</a></p><p>element-ui的tree组件只有复选功能，没有单选，但项目里需要每次只选一个</p><p>解决办法是：使用check方法，在这个方法里，给tree组件重新赋值，代码如下：</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-tree</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;roomTreeRef&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  node-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  show-checkbox</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  :highlight-current</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;true&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  default-expand-all</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  :data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;allRoomList&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;label&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @check</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleRoomCheckClick&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRoomCheckClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 清空之前选择的</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  roomTreeRef.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCheckedKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;-1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  form.value.roomList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [e.id]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 重新赋值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  roomTreeRef.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCheckedKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([e.id])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">备注</p><p>setCheckedKeys赋值的时候，传递的是数组，而且里面必须有值，不然会报错</p></div><h2 id="设置、取消选择状态" tabindex="-1">设置、取消选择状态 <a class="header-anchor" href="#设置、取消选择状态" aria-label="Permalink to &quot;设置、取消选择状态&quot;">​</a></h2><p>1、先设置node-key属性</p><p>2、选中：treeRef.value.setCurrentKey(2)。2为对应的node-key值</p><p>取消：treeRef.value.setCurrentKey(null)</p>`,12),t=[l];function p(h,r,k,d,c,o){return a(),i("div",null,t)}const m=s(n,[["render",p]]);export{u as __pageData,m as default};

import{_ as n,p as s,q as a,a1 as t}from"./framework-b7c41258.js";const p="/zhaobao1830-notes/assets/01-2c3204eb.png",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqsAAAAiCAIAAAD3WQefAAAEbElEQVR4Xu3bS2sTURjG8XwGcdVP4M4voRvXgii4ERFFV0UE240iiCtDQYUWLIgXvNWEWqpSxUtVJGpVgqhQrZdFRUupqKk3iA++cDiemUlj06nR8/8xhJkzJ2maWTzvOXOmUAcAAPEphA0AACACVAAAAMSICgAAgBhRAQAAEKPCDAAAiA9zAAAAxIgKAACAGFEBAAAQIyoAAABiRAUAAECMqAAAAIgRFQAAADHKqwKoVCph05/7Vvs2uGng0bGx8AQWHdcCAP4zeVUAnZ2d/f39tVotPDEXZYyLmQVMndr021MblvWuLFzoXvV99lN4eoFcG7yq7fnj8XL/uY8zH137wMBER8cJbcVi1es+H1l/okVTz95f2j6kH9xvzOlaAADaQY4VgHR3d1ermZk3NnpfW9Dop86Cm3r+8MretblWAPqPgnienv6yY0dFr7/3nafkn5h8PTl0dLD5akA9L54cDvpf2z3y+uZLv6X+59fi6+xXfbK+W3gCANB+8q0ATLlcTk4GKMmUFsoMO1T87FuyyzZLHdfiQkg7Cirbr0191pBUr3aYVC31aMQfDPqDCkCHR1YvtW7qb41v7l60Fp1SB7Wovz7EGkd7Nlu3VBbPiuTLAyPuXxsf/7Bnz4PZ2R+uW6XyzqYE1q27apWBWtRHhYJr1Lt0uGXLLR329T1Vu/pk/YnmpwT0xrO9p4OQDiYAWrkW+g76JhQBAND+FqMCKJVKQQVgU9nuUAl0Zs1xi5Bg3Okf+kmjTHIJlKQUT53tz5oDUIvaddbt+Gf1aUHw22D35IETtilTlax+B6MgV35b2GtbsWJYua5Nue6CXzGv4kA7drb+65aBNu2r5fr1SXUoFqvWGHy+T1+gdPhc6tdwsvr4P3Lr18J+nOTsDgCgreRbAXR1dQV3AVLjwY+WBqlT9yarU2etHQW2YjtsTVQAbnGAP+LXe3Xov92mClJLimYEcwAKe7cawN0g8BuNvUun9Kr9OSuAesb43smaJwhmUxbkWthV9os8AEC7ybECaLASMJgDaD51NEK9vf+G4kqpEyxb8zVZAaibDe6TQ//GdUCTcwBmcSqArPG9L7VPgx+8wal69rVILfIAAO0mrwpgzqcB/XUAGkFqGKoUUagcWl5skDrqo7x5Un7sNyZVSz2pQ/ZkBWC3/5X0bg7A0Sm3OMDUpt/qY/XqN84pqAD8uwAKdXcXoJUKIBjfl84P9xzsuzf2cP3GrRMvX23r3Pli4pWdCuYJ9Hte2j6kn90O6y1fC9YBAMC/Iq8KoBnuWQB70mzfkl16vdd7xxJFr249mjY3z6x2JZMfWqlsEO9WAvqL/tyCPteossDmAPz7AtqxsHeLCnu9BYPNS64EdA8H+isB510BJJ8FaFAB1H9/FiC5nKKVa8GzAADwD/mbFQD+ruQEAAAgHlQAAADEiAoAAIAYUQEAABAjKgAAAGJEBQAAQIwKMwAAID7MAQAAECMqAAAAYkQFAABAjKgAAACIERUAAAAx+gnTdTCglMvMrgAAAABJRU5ErkJggg==",o="/zhaobao1830-notes/assets/04-61d8ef8d.png",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmIAAAAsCAIAAABJ+UOEAAACoElEQVR4Xu3aIVIjQRSA4ZyFI+UAK7AYHAqFQsSi0eNiI1FoLIoLUFEULvsqD2Z7JzwSspMiS32fSE16uhncX92ZyQoAKEyWAEBhMuwmAPBOJgGgJJMAUJJJACjJJACUZBIASuNk8vn5+fz8PD6HN3bw+Ph4eXn58vIyvAEA300mAaA0Qiavr69PGvF1MN51XY5ER6fTaT8YaYy4/lnZzASAYzBCJlcf7Sa7tbjIFt7f37eDLbtJAI7WQTK5uU3MTMbnSbPdTDIJwNE6VCajfNG/v2e9GcRSJgE4WqNl8vT0tO1i13WDXWOrTWNcx9r9Xv8BgIMaJ5OrdRfzfDXr2J67TqfTrGD7sk8ew6bNl30A4BiMlkkA+HlkEgBKMgkAJZkEgJJMAkBpsgQACnaTAFCSSQAoySQAlGQSAEoyCQCl/ymTDw8PFxcXy+VyeAMADuN7Mhmpm81mnwdvsVj8Wru9vc2Rf8/kYm04CgCFI83k1gn7kUkAvmSETLZJiw1fbv6iRvP5/OzsrN0Ovr6+xszcI/b7wliSI3ErJuTMp6enm5ub/mu/sN1Nbn1E/OUc7B8RZBKA3R0wk5m0cHV1FdmLwbiVleqXtDmMWzEhBmNhX7WoYK4dPOiTR2Qd+8EQF7nKbhKALzlgJjNIkcAIYbSqndZfL95/gEz9pnCwm0ybmdx8xGZi2zS21wCw1fdn8sNu7Z3JdsJg2uAaALYaJ5N5vJmbuSqT+athnojGnDwvbU9EW/tlctWc6/biibP1r54xIfaXMgnA7kbI5GpdrDzknM/nVSZXzas0d3d3ffBybepfuhlkMgPcT8vsffiIdmZOyzzn1/j3ZBKA3Y2TSQD4kWQSAEoyCQAlmQSAkkwCQGmyBAAKdpMAUJJJACj9BtN/n2+DWk85AAAAAElFTkSuQmCC",c={},u=t(`<h1 id="vue单文件组件中多个同名的ref属性-this-refs的取值及其使用注意事项" tabindex="-1"><a class="header-anchor" href="#vue单文件组件中多个同名的ref属性-this-refs的取值及其使用注意事项" aria-hidden="true">#</a> Vue单文件组件中多个同名的ref属性，this.$refs的取值及其使用注意事项</h1><p><strong>Vue官方文档</strong>： ref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 $refs 对象上。如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例。</p><p><strong>1 当同一组件内部，有多个同名ref引用时</strong></p><p>this.$refs[ref名称]指向文档流中靠下的组件或DOM节点，若是ref相同的组件或DOM节点间是父子关系，则指向父级组件或DOM节点。</p><p><strong>1.1 this.$refs[ref名称]指向文档流中靠下的组件或DOM节点：</strong></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>this.$refs.test 指向：</p><p><img src="`+p+`" alt="Image text"></p><p>1.2 若是ref相同的组件或DOM节点间是父子关系，则指向父级组件或DOM节点：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>this.$refs.test 指向：</p><p><img src="`+e+`" alt="Image text"></p><p><strong>2 若ref用在v-for里</strong></p><p>当循环内的ref值不同时，需提供this.refs[ref名称][0]来获取该DOM节点或组件实例；当ref值相同时，this.$refs[ref名称]获取到的是该DOM节点或组件的数组。</p><p><strong>2.1 当循环内的ref值不同时，需提供this.$refs[ref名称][0]来获取该DOM节点或组件实例：</strong></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in 5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>test&#39; + item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>this.$refs.test1 指向，可以看到它控制台中打印出是一个数组，只有一项即时引用指向的节点或组件</p><p><strong>2.2 当固定ref，值相同时，this.$refs[ref名称]获取到的是该DOM节点或组件的数组：</strong></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in 5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>this.$refs.test 的指向，是同名DOM节点的数组，使用下表即可获取响应DOM节点或组件</p><p><img src="`+o+`" alt="Image text"></p><p><strong>3 使用注意事项</strong></p><ul><li><p>ref 属性值接收一个字符串</p></li><li><p>因为 ref 本身是作为渲染结果被创建的，在初始渲染的时候你不能访问它们 - 它们还不存在</p></li></ul><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>created () {
    console.log(&#39;test&#39;)
    console.log(this.$refs.test)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>this.$refs.test 为 undefined，在mounted中可以访问</p><p><img src="`+l+'" alt="Image text"></p><p><em>并且它不是响应式的。这仅作为一个用于直接操作子组件的“逃生舱”——你应该避免在模板进行数据绑定或计算属性中访问 $refs。</em></p>',27),i=[u];function k(r,g){return s(),a("div",null,i)}const d=n(c,[["render",k],["__file","18.html.vue"]]);export{d as default};

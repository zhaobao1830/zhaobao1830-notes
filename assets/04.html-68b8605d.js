import{_ as n,p as s,q as a,a1 as e}from"./framework-b7c41258.js";const t={},o=e(`<h1 id="安卓使用软键盘输入后查询-better-scroll的提示信息会出现在页面上" tabindex="-1"><a class="header-anchor" href="#安卓使用软键盘输入后查询-better-scroll的提示信息会出现在页面上" aria-hidden="true">#</a> 安卓使用软键盘输入后查询，better-scroll的提示信息会出现在页面上</h1><p>错误原因：软键盘将可视区域高度缩小，better-scroll里的base-scroll-list-wrapper高度缩小，base-scroll-pulldown就会 在页面中显示（正常情况下，base-scroll-list-wrapper的高度是可视区域高度，base-scroll-pulldown在可视区域外面）</p><p>解决办法：判断软键盘是否收起，如果收起，就调用better-scroll实例的refresh()方法，重新计算base-scroll-list-wrapper的高度</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 监控安卓手机键盘是否收起，如果收起，就调用bScroll的refresh方法，重新计算高度</span>
      <span class="token function">keyboardCollapsedBScrollRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">let</span> originHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> resizeHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
          <span class="token comment">// Android 键盘收起后操作</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>originHeight <span class="token operator">&lt;</span> resizeHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 这块有时候会报找不到refresh方法的错误（未处理）</span>
            _this<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>bScroll<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          originHeight <span class="token operator">=</span> resizeHeight
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">温馨提示</p><p>base-scroll-list-wrapper和base-scroll-pulldown都是better-scroll封装的组件里的div，详情可以查看 基础组件里的scroll组件</p></div>`,5),p=[o];function c(l,i){return s(),a("div",null,p)}const u=n(t,[["render",c],["__file","04.html.vue"]]);export{u as default};
